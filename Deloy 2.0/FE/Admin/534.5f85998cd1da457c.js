"use strict";(self.webpackChunkfarm_ui=self.webpackChunkfarm_ui||[]).push([[534],{1534:(tn,P,a)=>{a.r(P),a.d(P,{ProductModule:()=>jt});var l=a(7506),k=a(2495),J=a(2787),y=a(5861),N=a(6593),O=a(7930),g=a(1221),v=a(8763),b=a(342),h=a(9275),A=a(2861);class f extends A.e{}class K extends A.e{}class $ extends A.e{constructor(){super(),this.isExpired="1"}}var U=a(4597),w=a(7095);class W extends A.e{}var q=a(2897),Q=a(5811),t=a(5879),E=a(6814),p=a(6223),L=a(2840),M=a(855),I=a(1958),F=a(2682),H=a(6987),x=a(95),C=a(3599),R=a(2595),z=a(824),Z=a(9691),X=a(6494),s=a(9663),j=a(1394),B=a(194),G=a(8276),tt=a(7565),nt=a(9029);function et(i,c){if(1&i&&t._UZ(0,"img",27),2&i){const e=t.oxw(3);let o;t.hYB("src","",e.URL_Upload,"/",null!==(o=e.Entity.image)&&void 0!==o?o:"","",t.LSH)}}function ot(i,c){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",16)(2,"div",17)(3,"div",18)(4,"app-input-custom",19),t.NdJ("changeInput",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.field_Validation.code=n)})("VALUEChange",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.Entity.code=n)}),t.qZA()(),t.TgZ(5,"div",18)(6,"app-input-custom",20),t.NdJ("changeInput",function(n){t.CHM(e);const r=t.oxw(2);return r.field_Validation.name=n,t.KtG(r.validateCustom())})("VALUEChange",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.Entity.name=n)}),t.qZA()(),t.TgZ(7,"div",18)(8,"app-select-custom",21),t.NdJ("changeSelect",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.field_Validation.categoryId=n)})("changeSelect",function(n){t.CHM(e);const r=t.oxw(2);return r.field_Validation.categoryId=n,t.KtG(r.validateCustom())}),t.qZA()(),t.TgZ(9,"div",18)(10,"app-select-custom",21),t.NdJ("changeSelect",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.field_Validation.brandId=n)})("changeSelect",function(n){t.CHM(e);const r=t.oxw(2);return r.field_Validation.brandId=n,t.KtG(r.validateCustom())}),t.qZA()(),t.TgZ(11,"div",18),t._UZ(12,"br"),t.TgZ(13,"div",22)(14,"nz-upload",23),t.NdJ("nzFileListChange",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.listFileUpload=n)}),t.YNc(15,et,1,2,"img",24),t.TgZ(16,"button",25),t._UZ(17,"span",26),t._uU(18," T\u1ea3i \u1ea3nh l\xean "),t.qZA()()()()()(),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("nzGutter",24),t.xp6(2),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("LABEL","M\xe3")("MINLENGTH",3)("MAXLENGTH",10)("PLACEHOLDER","Nh\u1eadp M\xe3")("REQUIRED",!0)("TYPE","text")("ENTITY",e.Entity)("FIELD","code")("VALUE",e.Entity.code)("DISABLED",!0),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("CLASSNAME",!e.field_Validation.name&&e.onSubmitting?"invalid-form":"")("LABEL","T\xean")("PLACEHOLDER","Nh\u1eadp t\xean")("REQUIRED",!0)("TYPE","text")("ENTITY",e.Entity)("FIELD","name")("VALUE",e.Entity.name),t.xp6(1),t.Q6J("nzSpan",24),t.xp6(1),t.Q6J("CLASSNAME",!e.field_Validation.categoryId&&e.onSubmitting?"invalid-form":"")("LABEL_SELECT","name")("VALUE_SELECT","id")("LISTOPTION",e.categories)("LABEL","Danh m\u1ee5c")("PLACEHOLDER","Ch\u1ecdn danh m\u1ee5c")("REQUIRED",!0)("ENTITY",e.Entity)("FIELD","categoryId")("TYPE","NORMAL")("VALUE",e.Entity.categoryId),t.xp6(1),t.Q6J("nzSpan",24),t.xp6(1),t.Q6J("CLASSNAME",!e.field_Validation.brandId&&e.onSubmitting?"invalid-form":"")("LABEL_SELECT","name")("VALUE_SELECT","id")("LISTOPTION",e.brands)("LABEL","Th\u01b0\u01a1ng hi\u1ec7u")("PLACEHOLDER","Ch\u1ecdn th\u01b0\u01a1ng hi\u1ec7u")("REQUIRED",!0)("ENTITY",e.Entity)("FIELD","brandId")("TYPE","NORMAL")("VALUE",e.Entity.brandId),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(3),t.Q6J("nzBeforeUpload",e.beforeUpload)("nzCustomRequest",e.handleUpload)("nzLimit",1)("nzFileList",e.listFileUpload),t.xp6(1),t.Q6J("ngIf",e.Entity.image)}}function it(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"nz-modal",15),t.NdJ("nzVisibleChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.isInsert=n)})("nzOnCancel",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.handleCancel())})("nzOnOk",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSubmit())}),t.YNc(1,ot,19,51,"ng-container",13),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("nzVisible",e.isInsert)}}function rt(i,c){1&i&&t._UZ(0,"span",35)}function ct(i,c){1&i&&t._UZ(0,"span",35)}function at(i,c){if(1&i&&t._UZ(0,"nz-option",36),2&i){const e=c.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function ut(i,c){if(1&i&&t._UZ(0,"nz-option",36),2&i){const e=c.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function _t(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",16)(4,"form",28)(5,"div",18)(6,"nz-form-item")(7,"nz-form-label"),t._uU(8,"M\xe3 s\u1ea3n ph\u1ea9m"),t.qZA(),t.TgZ(9,"nz-input-group",29)(10,"input",30),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.EntitySearch.code=n)}),t.qZA()(),t.YNc(11,rt,1,0,"ng-template",null,31,t.W1O),t.qZA()(),t.TgZ(13,"div",18)(14,"nz-form-item")(15,"nz-form-label"),t._uU(16,"T\xean S\u1ea3n Ph\u1ea9m"),t.qZA(),t.TgZ(17,"nz-input-group",29)(18,"input",30),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.EntitySearch.name=n)}),t.qZA()(),t.YNc(19,ct,1,0,"ng-template",null,31,t.W1O),t.qZA()(),t.TgZ(21,"div",18)(22,"nz-form-item")(23,"nz-form-label"),t._uU(24,"Danh m\u1ee5c"),t.qZA(),t.TgZ(25,"nz-select",32),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.EntitySearch.categoryId=n)}),t.YNc(26,at,1,2,"nz-option",33),t.qZA()()(),t.TgZ(27,"div",18)(28,"nz-form-item")(29,"nz-form-label"),t._uU(30,"Th\u01b0\u01a1ng hi\u1ec7u"),t.qZA(),t.TgZ(31,"nz-select",34),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.EntitySearch.brandId=n)}),t.YNc(32,ut,1,2,"nz-option",33),t.qZA()()()()()()()()}if(2&i){const e=t.MAs(12),o=t.oxw();t.xp6(3),t.Q6J("nzGutter",24),t.xp6(2),t.Q6J("nzSpan",6),t.xp6(4),t.Q6J("nzSuffix",e),t.xp6(1),t.Q6J("ngModel",o.EntitySearch.code),t.xp6(3),t.Q6J("nzSpan",6),t.xp6(4),t.Q6J("nzSuffix",e),t.xp6(1),t.Q6J("ngModel",o.EntitySearch.name),t.xp6(3),t.Q6J("nzSpan",6),t.xp6(4),t.Q6J("ngModel",o.EntitySearch.categoryId),t.xp6(1),t.Q6J("ngForOf",o.categories),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(4),t.Q6J("ngModel",o.EntitySearch.brandId),t.xp6(1),t.Q6J("ngForOf",o.brands)}}function dt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"a")(2,"span",38),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.openModal("EDIT",n))}),t.qZA()(),t._UZ(3,"nz-divider",39),t.TgZ(4,"a")(5,"span",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return r.isDisplayDelete=!0,t.KtG(r.id_record=n.id)}),t.qZA()(),t._UZ(6,"nz-divider",39),t.TgZ(7,"a")(8,"span",41),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return r.isDisplayDetail=!0,r.id_record=n.id,r.Entity.description="",t.KtG(r.isInsertDetail=!0)}),t.qZA()(),t._UZ(9,"nz-divider",39),t.TgZ(10,"a")(11,"span",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.openAttributeModal(n))}),t.qZA()(),t._UZ(12,"nz-divider",39),t.TgZ(13,"a")(14,"span",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return r.isDisplayDetail=!0,r.isInsertDetail=!1,t.KtG(r.getProductDescriptions(n.id))}),t.qZA()()()}}function lt(i,c){1&i&&t._UZ(0,"td")}function st(i,c){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"img",27),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"date"),t.qZA(),t.YNc(19,dt,15,0,"td",37),t.YNc(20,lt,1,0,"td",37),t.qZA()),2&i){const e=c.$implicit,o=c.index,n=t.oxw();let r,u,m;t.Tol(e.isSoftDeleted?"bg_deleted":""),t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.code),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.hYB("src","",n.URL_Upload,"/",null!==(r=e.image)&&void 0!==r?r:"","",t.LSH),t.xp6(2),t.Oqu(e.category.name),t.xp6(2),t.Oqu(e.brand.name),t.xp6(2),t.Oqu(t.xi3(15,13,e.createdAt,null!==(u="dd/MM/yy hh:mm aa")&&void 0!==u?u:"")),t.xp6(3),t.Oqu(t.xi3(18,16,e.updatedAt,null!==(m="dd/MM/yy hh:mm aa")&&void 0!==m?m:"")),t.xp6(2),t.Q6J("ngIf",!e.isSoftDeleted),t.xp6(1),t.Q6J("ngIf",e.isSoftDeleted)}}function pt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ckeditor",46),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw(3);return t.KtG(r.Entity.description=n)}),t.qZA()}if(2&i){const e=t.oxw(3);t.Q6J("ngModel",e.Entity.description)("editor",e.Editor)}}function gt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"div",48),t.qZA(),t.TgZ(3,"td",49)(4,"a")(5,"span",40),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw(4);return t.KtG(u.deleteProductDescription(r.id))}),t.qZA()()()()}if(2&i){const e=c.$implicit;t.Tol(e.isSoftDeleted?"bg_deleted":""),t.xp6(2),t.Q6J("innerHTML",e.description,t.oJD)}}function mt(i,c){if(1&i&&(t.ynx(0),t.TgZ(1,"nz-table",47,7)(3,"thead")(4,"tr")(5,"th"),t._uU(6,"M\xf4 t\u1ea3"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"H\xe0nh \u0111\u1ed9ng"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,gt,6,3,"tr",9),t.qZA()(),t.BQk()),2&i){const e=t.MAs(2),o=t.oxw(3);t.xp6(1),t.Q6J("nzData",o.productDescriptions)("nzBordered",!0),t.xp6(9),t.Q6J("ngForOf",e.data)}}function ht(i,c){if(1&i&&(t.ynx(0),t.YNc(1,pt,1,2,"ckeditor",45),t.YNc(2,mt,11,3,"ng-container",37),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isInsertDetail),t.xp6(1),t.Q6J("ngIf",!e.isInsertDetail)}}function Et(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",50),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.handleCancel())}),t._uU(2,"\u0110\xf3ng"),t.qZA(),t.TgZ(3,"button",51),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.addProductDescription())}),t._uU(4,"X\xe1c nh\u1eadn"),t.qZA()()}}function Tt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"nz-modal",44),t.NdJ("nzVisibleChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.isDisplayDetail=n)})("nzOnCancel",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.handleCancel())}),t.YNc(1,ht,3,2,"ng-container",13),t.YNc(2,Et,5,0,"div",14),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("nzVisible",e.isDisplayDetail)("nzTitle","Chi ti\u1ebft")}}function Ct(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",18),t._UZ(1,"nz-form-label",18),t.TgZ(2,"nz-range-picker",70),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.dateRange=n)})("ngModelChange",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onChangeDateRange(n))}),t.qZA()()}if(2&i){const e=t.oxw(2);t.Q6J("nzSpan",8),t.xp6(1),t.Q6J("nzSpan",24),t.xp6(1),t.Q6J("ngModel",e.dateRange)}}function zt(i,c){1&i&&t._UZ(0,"td")}function At(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"a")(2,"span",38),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.editAttibute(n))}),t.qZA()(),t._UZ(3,"nz-divider",39),t.TgZ(4,"a")(5,"span",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.deleteAttribute(n.id))}),t.qZA()()()}}function ft(i,c){1&i&&t._UZ(0,"td")}function xt(i,c){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"input",71),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.ALo(20,"date"),t.qZA(),t.YNc(21,zt,1,0,"td",37),t.YNc(22,At,6,0,"td",37),t.YNc(23,ft,1,0,"td",37),t.qZA()),2&i){const e=c.$implicit;t.Tol(e.isSoftDeleted?"bg_deleted":""),t.xp6(2),t.Oqu(e.code),t.xp6(2),t.Oqu(e.unit),t.xp6(2),t.Oqu(e.value),t.xp6(2),t.s9C("value",e.color),t.xp6(2),t.Oqu(t.lcZ(11,13,e.price)),t.xp6(3),t.Oqu(t.lcZ(14,15,e.amount)),t.xp6(3),t.Oqu(t.xi3(17,17,e.manufactureDate,"dd/MM/yyyy")),t.xp6(3),t.Oqu(t.xi3(20,20,e.expireDate,"dd/MM/yyyy")),t.xp6(2),t.Q6J("ngIf",e.isSoftDeleted),t.xp6(1),t.Q6J("ngIf",!e.isSoftDeleted),t.xp6(1),t.Q6J("ngIf",e.isSoftDeleted)}}const Zt=function(){return{width:"100%"}};function yt(i,c){if(1&i&&t._UZ(0,"img",72),2&i){const e=t.oxw(2);t.Q6J("src",e.previewImage,t.LSH)("ngStyle",t.DdM(2,Zt))}}function vt(i,c){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",16)(2,"div",52)(3,"div",18)(4,"div",16)(5,"div",53)(6,"div",18)(7,"app-input-custom",54),t.NdJ("VALUEChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.productAttributeEntity.code=n)}),t.qZA()(),t.TgZ(8,"div",18)(9,"app-input-custom",54),t.NdJ("VALUEChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.productAttributeEntity.price=n)}),t.qZA()(),t.TgZ(10,"div",55),t._UZ(11,"nz-form-label",18),t.TgZ(12,"input",56),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.productAttributeEntity.color=n)}),t.qZA()(),t.TgZ(13,"div",18)(14,"app-input-custom",57),t.NdJ("VALUEChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.productAttributeEntity.value=n)}),t.qZA()(),t._uU(15," \xa0\xa0 "),t.TgZ(16,"div",58)(17,"button",59),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.saveAttribute())}),t._uU(18," + "),t.qZA(),t._uU(19,"\xa0 "),t.TgZ(20,"button",59),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return n.isEdit=!1,t.KtG(n.productAttributeEntity={})}),t._uU(21," Reset "),t.qZA()(),t.TgZ(22,"div",18),t._UZ(23,"nz-form-label",18),t.TgZ(24,"nz-switch",60),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.productAttributeEntity.allowOdd=n)})("ngModelChange",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.formatNumber(n.productAttributeEntity.allowOdd,n.productAttributeEntity.amount))}),t.qZA()(),t.TgZ(25,"div",18),t._UZ(26,"nz-form-label",18),t.TgZ(27,"input",61),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.productAttributeEntity.amount=n)})("change",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.formatNumber(n.productAttributeEntity.allowOdd,n.productAttributeEntity.amount))}),t.qZA()(),t.TgZ(28,"div",18)(29,"app-input-custom",57),t.NdJ("VALUEChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.productAttributeEntity.unit=n)}),t.qZA()(),t.YNc(30,Ct,3,3,"div",62),t.qZA(),t.TgZ(31,"nz-table",63,7)(33,"thead")(34,"tr")(35,"th"),t._uU(36,"ID"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"\u0110\u01a1n v\u1ecb t\xednh"),t.qZA(),t.TgZ(39,"th"),t._uU(40,"Gi\xe1 Nh\u1eadp"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"M\xe0u s\u1eafc"),t.qZA(),t.TgZ(43,"th"),t._uU(44,"Gi\xe1 ti\u1ec1n"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"S\u1ed1 l\u01b0\u1ee3ng"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Ng\xe0y s\u1ea3n xu\u1ea5t"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Ng\xe0y h\u1ebft h\u1ea1n"),t.qZA(),t.TgZ(51,"th"),t._uU(52,"H\xe0nh \u0111\u1ed9ng"),t.qZA()()(),t.TgZ(53,"tbody"),t.YNc(54,xt,24,23,"tr",9),t.qZA()()()(),t.TgZ(55,"div",64)(56,"div",16)(57,"div",22)(58,"nz-upload",65),t.NdJ("nzFileListChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.imageList=n)}),t.TgZ(59,"div"),t._UZ(60,"span",66),t.TgZ(61,"div",67),t._uU(62,"T\u1ea3i \u1ea3nh l\xean"),t.qZA()()(),t.TgZ(63,"nz-modal",68),t.NdJ("nzOnCancel",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.previewVisible=!1)}),t.YNc(64,yt,1,3,"ng-template",null,69,t.W1O),t.qZA()()()()()(),t.BQk()}if(2&i){const e=t.MAs(32),o=t.MAs(65),n=t.oxw();t.xp6(1),t.Q6J("nzGutter",24),t.xp6(2),t.Q6J("nzSpan",16),t.xp6(1),t.Q6J("nzGutter",24),t.xp6(2),t.Q6J("nzSpan",6),t.xp6(1),t.Q6J("PLACEHOLDER","T\xean")("TYPE","text")("ENTITY",n.productAttributeEntity)("FIELD","code")("VALUE",n.productAttributeEntity.code),t.xp6(1),t.Q6J("nzSpan",4),t.xp6(1),t.Q6J("PLACEHOLDER","Gi\xe1 B\xe1n")("TYPE","number")("ENTITY",n.productAttributeEntity)("FIELD","price")("VALUE",n.productAttributeEntity.price),t.xp6(1),t.Q6J("nzSpan",2),t.xp6(1),t.Q6J("nzSpan",24),t.xp6(1),t.Q6J("ngModel",n.productAttributeEntity.color),t.xp6(1),t.Q6J("nzSpan",4),t.xp6(1),t.Q6J("TYPE","text")("PLACEHOLDER","Gi\xe1 Nh\u1eadp")("ENTITY",n.productAttributeEntity)("FIELD","value")("VALUE",n.productAttributeEntity.value),t.xp6(2),t.Q6J("nzSpan",3),t.xp6(1),t.Q6J("nzType","primary"),t.xp6(3),t.Q6J("nzType","primary"),t.xp6(2),t.Q6J("nzSpan",4),t.xp6(1),t.Q6J("nzSpan",24),t.xp6(1),t.Q6J("ngModel",n.productAttributeEntity.allowOdd),t.xp6(1),t.Q6J("nzSpan",4),t.xp6(1),t.Q6J("nzSpan",24),t.xp6(1),t.Q6J("ngModel",n.productAttributeEntity.amount)("type","number"),t.xp6(1),t.Q6J("nzSpan",4),t.xp6(1),t.Q6J("TYPE","text")("PLACEHOLDER","Nh\u1eadp \u0111\u01a1n v\u1ecb t\xednh")("ENTITY",n.productAttributeEntity)("FIELD","unit")("VALUE",n.productAttributeEntity.unit),t.xp6(1),t.Q6J("ngIf",!n.isEdit),t.xp6(1),t.Q6J("nzData",n.productAttributes),t.xp6(23),t.Q6J("ngForOf",e.data),t.xp6(1),t.Q6J("nzSpan",8),t.xp6(1),t.Q6J("nzGutter",24),t.xp6(2),t.Q6J("nzMultiple",!0)("nzCustomRequest",n.handleUploadProductImage)("nzFileList",n.imageList)("nzShowButton",!0)("nzPreview",n.handlePreview)("nzBeforeUpload",n.beforeUpload)("nzRemove",n.deleteProductImage),t.xp6(5),t.Q6J("nzVisible",n.previewVisible)("nzContent",o)("nzFooter",null)}}function bt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",50),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.handleCancel())}),t._uU(2,"\u0110\xf3ng"),t.qZA()()}}let Lt=(()=>{var i;class c extends b.H{constructor(o,n,r,u,m,T){var D;super(h.k.get(l.b),h.k.get(g.Sf),h.k.get(N.Dx),h.k.get(q.u),h.k.get(v._W)),D=this,this.categoryService=o,this.brandService=n,this.productDescriptionService=r,this.productImageService=u,this.productAttributeService=m,this.appConfig=T,this.Editor=O,this.EntityDescription=new w.S,this.imageList=[],this.formatterInt=_=>`${isNaN(_)?"0":Math.round(_)}`,this.parserInt=_=>_??"0",this.columnSort={name:"CreatedAt",sortOrder:null,sortFn:(_,d)=>null!==_.createdAt&&null!==d.createdAt?new Date(_.createdAt).getTime()-new Date(d.createdAt).getTime():0,listOfFilter:[],filterFn:null},this.deleteProductImage=_=>{this.productAttributeService.delete(`ProductImage/${_.uid}`).subscribe(d=>{"200"==d.code?(this.toastr.success("Th\xe0nh c\xf4ng !"),this.getListImage()):this.toastr.warning(d.messageEX?.toString())})},this.beforeUpload=_=>"image/jpeg"===_.type||"image/png"===_.type||(this.toastr.error("\u0110\u1ecbnh d\u1ea1ng file h\xecnh \u1ea3nh kh\xf4ng h\u1ee3p l\u1ec7!"),!1),this.handleUploadProductImage=_=>{const d=`image_${(new Date).getTime()}.jpg`,V=new FormData;V.append(_.name,_.file,d),this.uploadImageService.upload(V).subscribe(S=>{_.onSuccess(_.file),"200"==S.code?(this.Entity.image=S.message,this.productImageEntity.productId=this.id_record,this.productImageEntity.image=d,this.productImageService.save("ProductImage",this.productImageEntity).subscribe(Y=>{"200"==Y.code?(this.toastr.success("Th\xe0nh c\xf4ng !"),this.getListImage()):this.toastr.warning(Y.messageEX?.toString())})):this.toastr.warning(S.messageEX?.toString())})},this.previewImage="",this.previewVisible=!1,this.handlePreview=function(){var _=(0,y.Z)(function*(d){!d.url&&!d.preview&&(d.preview=yield(i=>new Promise((c,e)=>{const o=new FileReader;o.readAsDataURL(i),o.onload=()=>c(o.result),o.onerror=n=>e(n)}))(d.originFileObj)),D.previewImage=d.url||d.preview,D.previewVisible=!0});return function(d){return _.apply(this,arguments)}}(),this.Entity=new f,this.EntitySearch=new K,this.Entities=new Array,this.URL="product",this.URL_Upload=T.URL_UPLOAD,this.title.setTitle("S\u1ea3n ph\u1ea9m"),this.field_Validation={name:!1,categoryId:!1,brandId:!1},this.GROUP_BUTTON.ADD=!0,this.GROUP_BUTTON.FILTER=!0,this.GROUP_BUTTON.RELOAD=!0,this.GROUP_BUTTON.SEARCH=!0,this.GROUP_BUTTON.EXCEL=!0,this.getList(),this.getListFilter()}ngOnInit(){}getListFilter(){this.categoryService.getAll("category/get-sub-categories").subscribe(o=>{this.categories=o.data}),this.brandService.getByRequest("brand",{}).subscribe(o=>{this.brands=o.data})}onSubmit(){var o=this;return(0,y.Z)(function*(){return o.onSubmitting=!0,o.isSubmit?(o.save(),!0):(o.toastr.warning("D\u1eef li\u1ec7u nh\u1eadp ch\u01b0a h\u1ee3p l\u1ec7"),!1)})()}openModal(o,n){this.listFileUpload=[],this.isInsert=!0,this.Entity=new f,this.Entity.code=Math.random().toString(36).substring(2,7),"EDIT"===o&&(this.Entity=n)}openAttributeModal(o){this.isDisplayAttribute=!0,this.listFileUpload=[],this.productAttributeFilter=new U.OW,this.productAttributeEntity=new U.mE,this.productImageEntity=new W,this.id_record=o.id,this.productAttributeFilter.productId=o.id,this.getListAttribute(),this.getListImage()}addProductDescription(){this.EntityDescription.id=null,this.EntityDescription.productId=this.id_record,this.EntityDescription.description=this.Entity.description,this.productDescriptionService.save("ProductDescription",this.EntityDescription).subscribe(o=>{"200"==o.code?(this.toastr.success("Th\xe0nh c\xf4ng !"),this.EntityDescription=o.data,this.handleCancel()):this.toastr.warning(o.messageEX?.toString())})}getProductDescriptions(o){this.id_record=o,this.productDescriptionService.getById(`ProductDescription?ProductId=${o}`).subscribe(n=>{this.productDescriptions=n.data})}deleteProductDescription(o){this.productDescriptionService.delete(`ProductDescription/${o}`).subscribe(n=>{this.getProductDescriptions(this.id_record)})}getListAttribute(){this.productAttributeService.getByRequest("ProductAttribute",this.productAttributeFilter).subscribe(o=>{this.productAttributes=o.data})}getListImage(){this.productImageService.getAll(`ProductImage?ProductId=${this.id_record}`).subscribe(o=>{this.productImages=o.data,this.imageList=this.productImages.map(n=>({uid:n.id,name:n.image,status:"done",url:this.URL_Upload+n.image}))})}formatNumber(o,n){o||(this.productAttributeEntity.amount=Math.round(n))}isNumValid(o){const n=parseFloat(o);return!isNaN(n)&&n>0}isDateValid(o,n){if(o&&n){const r=new Date(o),u=new Date(n);if(!isNaN(r.getTime())&&!isNaN(u.getTime()))return r.setHours(0,0,0,0),u.setHours(0,0,0,0),r<u}return!1}saveAttribute(){this.productAttributeEntity.code&&this.productAttributeEntity.unit&&this.productAttributeEntity.price&&this.productAttributeEntity.value&&this.productAttributeEntity.manufactureDate&&this.productAttributeEntity.expireDate&&this.productAttributeEntity.amount?(this.productAttributeEntity.color||(this.productAttributeEntity.color="#000000"),this.productAttributeEntity.productId=this.id_record,this.productAttributeService.save("ProductAttribute",this.productAttributeEntity).subscribe(o=>{"200"==o.code?(this.toastr.success("Th\xe0nh c\xf4ng !"),this.getListAttribute(),this.productAttributeEntity=new U.mE):this.toastr.warning(o.messageEX?.toString())})):this.toastr.warning("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin.")}deleteAttribute(o){this.productAttributeService.delete(`ProductAttribute/${o}`).subscribe(n=>{"200"==n.code?(this.toastr.success("Th\xe0nh c\xf4ng !"),this.getListAttribute(),this.getList()):this.toastr.warning(n.messageEX?.toString())})}saveManyImage(){this.productImageService.save("ProductImage/save-many",this.productImageEntity).subscribe(o=>{"200"==o.code?(this.toastr.success("Th\xe0nh c\xf4ng !"),this.getListImage()):this.toastr.warning(o.messageEX?.toString())})}editAttibute(o){this.id_edit=o.id??null,this.productAttributeEntity=o,this.isEdit=!0}onChangeDateRange(o){this.productAttributeEntity.manufactureDate=o[0],this.productAttributeEntity.expireDate=o[1]}}return(i=c).\u0275fac=function(o){return new(o||i)(t.Y36(l.b),t.Y36(l.b),t.Y36(l.b),t.Y36(l.b),t.Y36(l.b),t.Y36(Q.X))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product"]],features:[t.qOj],decls:35,vars:14,consts:[[3,"GROUP_BUTTON","openModalEvent","searchEvent","filterEvent","exportExcelEvent"],["nzTitle","Th\xeam m\u1edbi",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk",4,"ngIf"],["class","content cus-body",4,"ngIf"],[1,"content","cus-body"],[1,"card"],[1,"card-body"],[3,"nzData","nzBordered","nzLoading"],["basicTable",""],[3,"nzSortFn"],[3,"class",4,"ngFor","ngForOf"],[3,"ID","URL","SHOWDELETE","handleCancelEvent"],[3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel",4,"ngIf"],["nzTitle","Danh s\xe1ch s\u1ea3n ph\u1ea9m trong kho",3,"nzVisible","nzWidth","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzTitle","Th\xeam m\u1edbi",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],[3,"nzGutter"],[1,"row"],["nz-col","",3,"nzSpan"],[3,"LABEL","MINLENGTH","MAXLENGTH","PLACEHOLDER","REQUIRED","TYPE","ENTITY","FIELD","VALUE","DISABLED","changeInput","VALUEChange"],[3,"CLASSNAME","LABEL","PLACEHOLDER","REQUIRED","TYPE","ENTITY","FIELD","VALUE","changeInput","VALUEChange"],[3,"CLASSNAME","LABEL_SELECT","VALUE_SELECT","LISTOPTION","LABEL","PLACEHOLDER","REQUIRED","ENTITY","FIELD","TYPE","VALUE","changeSelect"],[1,"clearfix"],["nzListType","picture",3,"nzBeforeUpload","nzCustomRequest","nzLimit","nzFileList","nzFileListChange"],["class","img_logo",3,"src",4,"ngIf"],["nz-button",""],["nz-icon","","nzType","upload"],[1,"img_logo",3,"src"],["nz-form","","nzLayout","vertical","nz-row",""],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Nh\u1eadp t\xecm ki\u1ebfm",3,"ngModel","ngModelChange"],["suffixIconSearch",""],["nzShowSearch","","nzAllowClear","","nz-input","","nzPlaceHolder","Ch\u1ecdn danh m\u1ee5c",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzShowSearch","","nzAllowClear","","nz-input","","nzPlaceHolder","Ch\u1ecdn th\u01b0\u01a1ng hi\u1ec7u",3,"ngModel","ngModelChange"],["nz-icon","","nzType","search"],[3,"nzLabel","nzValue"],[4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline",3,"click"],["nzType","vertical"],["nz-icon","","nzType","delete","nzTheme","outline",3,"click"],["nz-icon","","nzType","file","nzTheme","outline",3,"click"],["nz-icon","","nzType","zoom-in","nzTheme","outline",3,"click"],["nz-icon","","nzType","eye","nzTheme","outline",3,"click"],[3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel"],[3,"ngModel","editor","ngModelChange",4,"ngIf"],[3,"ngModel","editor","ngModelChange"],[3,"nzData","nzBordered"],[3,"innerHTML"],[2,"width","75px !important"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"],["nz-row",""],["nzLayout","vertical","nz-row",""],[3,"PLACEHOLDER","TYPE","ENTITY","FIELD","VALUE","VALUEChange"],["nz-col","",1,"text-center",3,"nzSpan"],["type","color",1,"w-80",3,"ngModel","ngModelChange"],[3,"TYPE","PLACEHOLDER","ENTITY","FIELD","VALUE","VALUEChange"],["nz-col","","nzOffset","4",3,"nzSpan"],["nz-button","",3,"nzType","click"],["nzCheckedChildren","Cho ph\xe9p b\xe1n s\u1ed1 l\u1ebb","nzUnCheckedChildren","Kh\xf4ng b\xe1n s\u1ed1 l\u1ebb",3,"ngModel","ngModelChange"],["nz-input","","placeholder","S\u1ed1 l\u01b0\u1ee3ng nh\u1eadp",3,"ngModel","type","ngModelChange","change"],["nz-col","",3,"nzSpan",4,"ngIf"],[3,"nzData"],["nz-col","",1,"px-3",3,"nzSpan"],["nzListType","picture-card",3,"nzMultiple","nzCustomRequest","nzFileList","nzShowButton","nzPreview","nzBeforeUpload","nzRemove","nzFileListChange"],["nz-icon","","nzType","plus"],[2,"margin-top","8px"],[3,"nzVisible","nzContent","nzFooter","nzOnCancel"],["modalContent",""],[3,"ngModel","ngModelChange"],["type","color","disabled","true",3,"value"],[3,"src","ngStyle"]],template:function(o,n){if(1&o&&(t.TgZ(0,"app-group-button",0),t.NdJ("openModalEvent",function(u){return n.openModal(u,n.Entity)})("searchEvent",function(){return n.search()})("filterEvent",function(){return n.displayFilter()})("exportExcelEvent",function(){return n.exportByRequest()}),t.qZA(),t.YNc(1,it,2,1,"nz-modal",1),t.YNc(2,_t,33,13,"section",2),t.TgZ(3,"section",3)(4,"div",4)(5,"div",5)(6,"nz-table",6,7)(8,"thead")(9,"tr")(10,"th"),t._uU(11,"STT"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"M\xe3"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"T\xean"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"\u1ea2nh"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Danh m\u1ee5c"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Th\u01b0\u01a1ng hi\u1ec7u"),t.qZA(),t.TgZ(22,"th",8),t._uU(23,"Ng\xe0y t\u1ea1o"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Ng\xe0y s\u1eeda"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"H\xe0nh \u0111\u1ed9ng"),t.qZA()()(),t.TgZ(28,"tbody"),t.YNc(29,st,21,19,"tr",9),t.qZA()()()()(),t.TgZ(30,"app-delete-modal",10),t.NdJ("handleCancelEvent",function(){return n.handleCancel()}),t.qZA(),t.YNc(31,Tt,3,2,"nz-modal",11),t.TgZ(32,"nz-modal",12),t.NdJ("nzVisibleChange",function(u){return n.isDisplayAttribute=u})("nzOnCancel",function(){return n.handleCancel()}),t.YNc(33,vt,66,55,"ng-container",13),t.YNc(34,bt,3,0,"div",14),t.qZA()),2&o){const r=t.MAs(7);t.Q6J("GROUP_BUTTON",n.GROUP_BUTTON),t.xp6(1),t.Q6J("ngIf",n.isInsert),t.xp6(1),t.Q6J("ngIf",n.isFilter),t.xp6(4),t.Q6J("nzData",n.Entities)("nzBordered",!0)("nzLoading",n.isLoading),t.xp6(16),t.Q6J("nzSortFn",n.columnSort.sortFn),t.xp6(7),t.Q6J("ngForOf",r.data),t.xp6(1),t.Q6J("ID",n.id_record)("URL",n.URL)("SHOWDELETE",n.isDisplayDelete),t.xp6(1),t.Q6J("ngIf",n.isDisplayDetail),t.xp6(1),t.Q6J("nzVisible",n.isDisplayAttribute)("nzWidth",1500)}},dependencies:[E.sg,E.O5,E.PC,p._Y,p.Fj,p.JJ,p.JL,p.On,p.F,L.ix,M.w,I.dQ,F.uw,F.wS,H.g,x.t3,x.SK,C.Lr,C.Nx,C.iK,R.Ls,z.Zp,z.gB,z.ke,g.du,g.Uh,g.Hf,Z.Ip,Z.Vq,X.i,s.N8,s.qD,s.Uo,s._C,s.Om,s.p0,s.$Z,j.FY,B.z,G.W,tt.H,nt.B,E.JJ,E.uU]}),c})(),Mt=(()=>{var i;class c extends b.H{ngOnInit(){}}return(i=c).\u0275fac=function(){let e;return function(n){return(e||(e=t.n5z(i)))(n||i)}}(),i.\u0275cmp=t.Xpm({type:i,selectors:[["app-statistic"]],features:[t.qOj],decls:2,vars:0,template:function(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"statistic works!"),t.qZA())}}),c})();var It=a(9315);function Dt(i,c){1&i&&(t.ynx(0),t.TgZ(1,"h5",4),t._uU(2,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a t\u1ea5t c\u1ea3 ?"),t.qZA(),t._UZ(3,"i",5),t.BQk())}function St(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",6),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.closeModal())}),t._uU(2,"\u0110\xf3ng"),t.qZA(),t.TgZ(3,"button",7),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.confirm())}),t._uU(4,"X\xe1c nh\u1eadn"),t.qZA()()}}function Pt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"nz-modal",1),t.NdJ("nzVisibleChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.SHOWCLEAR=n)})("nzOnCancel",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closeModal())}),t.YNc(1,Dt,4,0,"ng-container",2),t.YNc(2,St,5,0,"div",3),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("nzVisible",e.SHOWCLEAR)("nzTitle","X\xf3a b\u1ea3n ghi")}}let Jt=(()=>{var i;class c{constructor(o,n){this.baseService=o,this.toastr=n,this.SHOWCLEAR=!1,this.ENTITIES=[],this.URL=null,this.deleteEvent=new t.vpe,this.handleCancelEvent=new t.vpe}confirm(){const o=this.ENTITIES.map(n=>{const r=this.URL.toString()+"/"+n.id.toString();return console.log(r),this.baseService.delete(r)});(0,It.D)(o).subscribe(n=>{n.every(u=>"200"===u.code)?this.handleCancelEvent.emit():this.toastr.warning("C\xf3 l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh x\xf3a.")},n=>{console.error(n),this.toastr.error("C\xf3 l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh x\u1eed l\xfd y\xeau c\u1ea7u.")})}closeModal(){this.handleCancelEvent.emit()}}return(i=c).\u0275fac=function(o){return new(o||i)(t.Y36(l.b),t.Y36(v._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-clear-modal"]],inputs:{SHOWCLEAR:"SHOWCLEAR",TITLE:"TITLE",ENTITIES:"ENTITIES",URL:"URL"},outputs:{deleteEvent:"deleteEvent",handleCancelEvent:"handleCancelEvent"},decls:1,vars:1,consts:[[3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel",4,"ngIf"],[3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[4,"nzModalFooter"],[1,"text-center"],["aria-hidden","true",1,"trash-icon","fa","fa-trash"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(o,n){1&o&&t.YNc(0,Pt,3,2,"nz-modal",0),2&o&&t.Q6J("ngIf",n.SHOWCLEAR)},dependencies:[E.O5,L.ix,M.w,I.dQ,g.du,g.Uh,g.Hf]}),c})();function Nt(i,c){1&i&&t._UZ(0,"span",20)}function Ot(i,c){1&i&&t._UZ(0,"span",20)}function wt(i,c){if(1&i&&t._UZ(0,"nz-option",21),2&i){const e=c.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function qt(i,c){if(1&i&&t._UZ(0,"nz-option",21),2&i){const e=c.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function Qt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",11)(4,"form",12)(5,"div",13)(6,"nz-form-item")(7,"nz-form-label"),t._uU(8,"M\xe3 s\u1ea3n ph\u1ea9m"),t.qZA(),t.TgZ(9,"nz-input-group",14)(10,"input",15),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.EntitySearch.code=n)}),t.qZA()(),t.YNc(11,Nt,1,0,"ng-template",null,16,t.W1O),t.qZA()(),t.TgZ(13,"div",13)(14,"nz-form-item")(15,"nz-form-label"),t._uU(16,"T\xean S\u1ea3n Ph\u1ea9m"),t.qZA(),t.TgZ(17,"nz-input-group",14)(18,"input",15),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.EntitySearch.name=n)}),t.qZA()(),t.YNc(19,Ot,1,0,"ng-template",null,16,t.W1O),t.qZA()(),t.TgZ(21,"div",13)(22,"nz-form-item")(23,"nz-form-label"),t._uU(24,"Danh m\u1ee5c"),t.qZA(),t.TgZ(25,"nz-select",17),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.EntitySearch.categoryId=n)}),t.YNc(26,wt,1,2,"nz-option",18),t.qZA()()(),t.TgZ(27,"div",13)(28,"nz-form-item")(29,"nz-form-label"),t._uU(30,"Th\u01b0\u01a1ng hi\u1ec7u"),t.qZA(),t.TgZ(31,"nz-select",19),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.EntitySearch.brandId=n)}),t.YNc(32,qt,1,2,"nz-option",18),t.qZA()()()()()()()()}if(2&i){const e=t.MAs(12),o=t.oxw();t.xp6(3),t.Q6J("nzGutter",24),t.xp6(2),t.Q6J("nzSpan",6),t.xp6(4),t.Q6J("nzSuffix",e),t.xp6(1),t.Q6J("ngModel",o.EntitySearch.code),t.xp6(3),t.Q6J("nzSpan",6),t.xp6(4),t.Q6J("nzSuffix",e),t.xp6(1),t.Q6J("ngModel",o.EntitySearch.name),t.xp6(3),t.Q6J("nzSpan",6),t.xp6(4),t.Q6J("ngModel",o.EntitySearch.categoryId),t.xp6(1),t.Q6J("ngForOf",o.categories),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(4),t.Q6J("ngModel",o.EntitySearch.brandId),t.xp6(1),t.Q6J("ngForOf",o.brands)}}function Ft(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"a")(2,"span",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return r.isDisplayDetail=!0,r.isInsertDetail=!1,t.KtG(r.getProductDescriptions(n.productId))}),t.qZA()(),t._UZ(3,"nz-divider",26),t.TgZ(4,"a")(5,"span",27),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw();return r.isDisplayDelete=!0,t.KtG(r.id_record=n.id)}),t.qZA()()()}}function Ht(i,c){1&i&&t._UZ(0,"td")}function Rt(i,c){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"img",22),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"input",23),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.ALo(20,"date"),t.qZA(),t.YNc(21,Ft,6,0,"td",24),t.YNc(22,Ht,1,0,"td",24),t.qZA()),2&i){const e=c.$implicit,o=c.index,n=t.oxw();let r,u,m,T;t.Tol(e.isSoftDeleted?"bg_deleted":""),t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(null==(r=n.getProductById(e.productId))?null:r.name),t.xp6(2),t.hYB("src","",n.URL_Upload,"/",null!==(u=null==(u=n.getProductById(e.productId))?null:u.image)&&void 0!==u?u:"","",t.LSH),t.xp6(2),t.Oqu(e.price),t.xp6(2),t.Oqu(e.value),t.xp6(2),t.Oqu(e.amount),t.xp6(2),t.s9C("value",e.color),t.xp6(2),t.Oqu(t.xi3(17,14,e.manufactureDate,null!==(m="dd/MM/yy hh:mm aa")&&void 0!==m?m:"")),t.xp6(3),t.Oqu(t.xi3(20,17,e.expireDate,null!==(T="dd/MM/yy hh:mm aa")&&void 0!==T?T:"")),t.xp6(2),t.Q6J("ngIf",!e.isSoftDeleted),t.xp6(1),t.Q6J("ngIf",e.isSoftDeleted)}}function Bt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ckeditor",32),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw(3);return t.KtG(r.Entity.description=n)}),t.qZA()}if(2&i){const e=t.oxw(3);t.Q6J("ngModel",e.Entity.description)("editor",e.Editor)}}function Gt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"div",34),t.qZA(),t.TgZ(3,"td",35)(4,"a")(5,"span",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw(4);return t.KtG(u.deleteProductDescription(r.id))}),t.qZA()()()()}if(2&i){const e=c.$implicit;t.Tol(e.isSoftDeleted?"bg_deleted":""),t.xp6(2),t.Q6J("innerHTML",e.description,t.oJD)}}function Vt(i,c){if(1&i&&(t.ynx(0),t.TgZ(1,"nz-table",33,6)(3,"thead")(4,"tr")(5,"th"),t._uU(6,"M\xf4 t\u1ea3"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"H\xe0nh \u0111\u1ed9ng"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,Gt,6,3,"tr",7),t.qZA()(),t.BQk()),2&i){const e=t.MAs(2),o=t.oxw(3);t.xp6(1),t.Q6J("nzData",o.productDescriptions)("nzBordered",!0),t.xp6(9),t.Q6J("ngForOf",e.data)}}function Yt(i,c){if(1&i&&(t.ynx(0),t.YNc(1,Bt,1,2,"ckeditor",31),t.YNc(2,Vt,11,3,"ng-container",24),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isInsertDetail),t.xp6(1),t.Q6J("ngIf",!e.isInsertDetail)}}function kt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.handleCancel())}),t._uU(2,"\u0110\xf3ng"),t.qZA(),t.TgZ(3,"button",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.addProductDescription())}),t._uU(4,"X\xe1c nh\u1eadn"),t.qZA()()}}function Kt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"nz-modal",28),t.NdJ("nzVisibleChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.isDisplayDetail=n)})("nzOnCancel",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.handleCancel())}),t.YNc(1,Yt,3,2,"ng-container",29),t.YNc(2,kt,5,0,"div",30),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("nzVisible",e.isDisplayDetail)("nzTitle","Chi ti\u1ebft")}}const $t=[{path:"",redirectTo:"product",pathMatch:"full"},{path:"product",component:Lt,data:{breadcrumbs:["main","product"]}},{path:"inventory",component:(()=>{var i;class c extends b.H{constructor(o,n,r,u,m,T){super(h.k.get(l.b),h.k.get(g.Sf),h.k.get(N.Dx),h.k.get(q.u),h.k.get(v._W)),this.categoryService=o,this.brandService=n,this.productDescriptionService=r,this.productImageService=u,this.productAttributeService=m,this.appConfig=T,this.Editor=O,this.EntityDescription=new w.S,this.Entity=new f,this.EntitySearch=new $,this.Entities=new Array,this.URL="product",this.URL_Upload=T.URL_UPLOAD,this.title.setTitle("T\u1ed3n kho"),this.field_Validation={name:!1,categoryId:!1,brandId:!1},this.GROUP_BUTTON.CLEAR=!0,this.GROUP_BUTTON.FILTER=!0,this.GROUP_BUTTON.RELOAD=!0,this.GROUP_BUTTON.SEARCH=!0,this.GROUP_BUTTON.EXCEL=!0,this.getList(),this.getListFilter()}ngOnInit(){}customData(){return this.Entities.length>0?this.Entities.flatMap(o=>o.productAttributes):[]}getProductById(o){return o?this.Entities.find(n=>n.id==o):null}displayFilter(){this.isFilter=!this.isFilter,this.EntitySearch={isExpired:"1"},this.getList()}getListFilter(){this.categoryService.getAll("category/get-sub-categories").subscribe(o=>{this.categories=o.data}),this.brandService.getByRequest("brand",{}).subscribe(o=>{this.brands=o.data})}onSubmit(){var o=this;return(0,y.Z)(function*(){return o.onSubmitting=!0,o.isSubmit?(o.save(),!0):(o.toastr.warning("D\u1eef li\u1ec7u nh\u1eadp ch\u01b0a h\u1ee3p l\u1ec7"),!1)})()}openModal(o,n){this.listFileUpload=[],this.Entity=new f,this.Entity.code=Math.random().toString(36).substring(2,7),"CLEAR"===o&&(this.isClear=!0)}getProductDescriptions(o){this.id_record=o,this.productDescriptionService.getById(`ProductDescription?ProductId=${o}`).subscribe(n=>{this.productDescriptions=n.data})}deleteProductDescription(o){this.productDescriptionService.delete(`ProductDescription/${o}`).subscribe(n=>{this.getProductDescriptions(this.id_record)})}}return(i=c).\u0275fac=function(o){return new(o||i)(t.Y36(l.b),t.Y36(l.b),t.Y36(l.b),t.Y36(l.b),t.Y36(l.b),t.Y36(Q.X))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-inventory"]],features:[t.qOj],decls:34,vars:13,consts:[[3,"GROUP_BUTTON","openModalEvent","searchEvent","filterEvent","exportExcelEvent"],["class","content cus-body",4,"ngIf"],[1,"content","cus-body"],[1,"card"],[1,"card-body"],[3,"nzData","nzBordered","nzLoading"],["basicTable",""],[3,"class",4,"ngFor","ngForOf"],[3,"ID","URL","SHOWDELETE","handleCancelEvent"],[3,"ENTITIES","URL","SHOWCLEAR","handleCancelEvent"],[3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel",4,"ngIf"],[3,"nzGutter"],["nz-form","","nzLayout","vertical","nz-row",""],["nz-col","",3,"nzSpan"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Nh\u1eadp t\xecm ki\u1ebfm",3,"ngModel","ngModelChange"],["suffixIconSearch",""],["nzShowSearch","","nzAllowClear","","nz-input","","nzPlaceHolder","Ch\u1ecdn danh m\u1ee5c",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzShowSearch","","nzAllowClear","","nz-input","","nzPlaceHolder","Ch\u1ecdn th\u01b0\u01a1ng hi\u1ec7u",3,"ngModel","ngModelChange"],["nz-icon","","nzType","search"],[3,"nzLabel","nzValue"],[1,"img_logo",3,"src"],["type","color","disabled","true",3,"value"],[4,"ngIf"],["nz-icon","","nzType","eye","nzTheme","outline",3,"click"],["nzType","vertical"],["nz-icon","","nzType","delete","nzTheme","outline",3,"click"],[3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[4,"nzModalFooter"],[3,"ngModel","editor","ngModelChange",4,"ngIf"],[3,"ngModel","editor","ngModelChange"],[3,"nzData","nzBordered"],[3,"innerHTML"],[2,"width","75px !important"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(o,n){if(1&o&&(t.TgZ(0,"app-group-button",0),t.NdJ("openModalEvent",function(u){return n.openModal(u,n.Entity)})("searchEvent",function(){return n.search()})("filterEvent",function(){return n.displayFilter()})("exportExcelEvent",function(){return n.exportByRequest()}),t.qZA(),t.YNc(1,Qt,33,13,"section",1),t.TgZ(2,"section",2)(3,"div",3)(4,"div",4)(5,"nz-table",5,6)(7,"thead")(8,"tr")(9,"th"),t._uU(10,"STT"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"T\xean"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"\u1ea2nh"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Gi\xe1 b\xe1n"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Gi\xe1 nh\u1eadp"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"S\u1ed1 l\u01b0\u1ee3ng"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"M\xe0u s\u1eafc"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Ng\xe0y s\u1ea3n xu\u1ea5t"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Ng\xe0y h\u1ebft h\u1ea1n"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"H\xe0nh \u0111\u1ed9ng"),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,Rt,23,20,"tr",7),t.qZA()()()()(),t.TgZ(31,"app-delete-modal",8),t.NdJ("handleCancelEvent",function(){return n.handleCancel()}),t.qZA(),t.TgZ(32,"app-clear-modal",9),t.NdJ("handleCancelEvent",function(){return n.handleCancel()}),t.qZA(),t.YNc(33,Kt,3,2,"nz-modal",10)),2&o){const r=t.MAs(6);t.Q6J("GROUP_BUTTON",n.GROUP_BUTTON),t.xp6(1),t.Q6J("ngIf",n.isFilter),t.xp6(4),t.Q6J("nzData",n.customData())("nzBordered",!0)("nzLoading",n.isLoading),t.xp6(25),t.Q6J("ngForOf",r.data),t.xp6(1),t.Q6J("ID",n.id_record)("URL","productattribute")("SHOWDELETE",n.isDisplayDelete),t.xp6(1),t.Q6J("ENTITIES",n.customData())("URL","productattribute")("SHOWCLEAR",n.isClear),t.xp6(1),t.Q6J("ngIf",n.isDisplayDetail)}},dependencies:[E.sg,E.O5,p._Y,p.Fj,p.JJ,p.JL,p.On,p.F,L.ix,M.w,I.dQ,H.g,x.t3,x.SK,C.Lr,C.Nx,C.iK,R.Ls,z.Zp,z.gB,z.ke,g.du,g.Uh,g.Hf,Z.Ip,Z.Vq,s.N8,s.Uo,s._C,s.Om,s.p0,s.$Z,B.z,Jt,G.W,E.uU]}),c})(),data:{breadcrumbs:["main","product","inventory"]}},{path:"statistic",component:Mt,data:{breadcrumbs:["main","product","statistic"]}}];let Wt=(()=>{var i;class c{}return(i=c).\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[J.Bz.forChild($t),J.Bz]}),c})();var Xt=a(7876);let jt=(()=>{var i;class c{}return(i=c).\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[l.b],imports:[E.ez,Wt,k.g,Xt.d]}),c})()}}]);