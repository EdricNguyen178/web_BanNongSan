"use strict";(self.webpackChunkfarm_ui=self.webpackChunkfarm_ui||[]).push([[626],{8902:(D,E,r)=>{r.d(E,{Ms:()=>A,N8:()=>Z,q7:()=>p});var _=r(2861);class p extends _.e{constructor(){super(...arguments),this.importItems=[]}}class Z extends _.e{constructor(){super(...arguments),this.importItems=[]}}class A{constructor(){this.code=Math.random().toString(36).substring(2,7),this.userAccountId=null,this.total=null,this.expenseShip=null,this.listItem=[]}}},9626:(D,E,r)=>{r.d(E,{k:()=>k});var _=r(6593),p=r(1221),Z=r(8763),A=r(342),a=r(9275),I=r(8902),C=r(2861);class b extends C.e{}class v extends C.e{}var S=r(4597),m=r(7506),q=r(2897),O=r(5811),t=r(5879),g=r(6814),c=r(6223),M=r(2840),J=r(855),N=r(1958),L=r(2682),B=r(6987),y=r(95),T=r(3599),F=r(2595),f=r(824),U=r(9691),d=r(9663),Q=r(194),G=r(8276);function R(i,l){1&i&&t._UZ(0,"span",19)}function H(i,l){if(1&i&&t._UZ(0,"nz-option",20),2&i){const n=l.$implicit;t.Q6J("nzLabel",n.fullName)("nzValue",n.id)}}function Y(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",10)(4,"form",11)(5,"div",12)(6,"nz-form-item")(7,"nz-form-label"),t._uU(8,"M\xe3 nh\u1eadp h\xe0ng"),t.qZA(),t.TgZ(9,"nz-input-group",13)(10,"input",14),t.NdJ("ngModelChange",function(e){t.CHM(n);const u=t.oxw();return t.KtG(u.EntitySearch.code=e)}),t.qZA()(),t.YNc(11,R,1,0,"ng-template",null,15,t.W1O),t.qZA()(),t.TgZ(13,"div",12)(14,"nz-form-item")(15,"nz-form-label"),t._uU(16,"Ng\u01b0\u1eddi nh\u1eadp"),t.qZA(),t.TgZ(17,"nz-select",16),t.NdJ("ngModelChange",function(e){t.CHM(n);const u=t.oxw();return t.KtG(u.EntitySearch.userAccountId=e)}),t.YNc(18,H,1,2,"nz-option",17),t.qZA()()(),t.TgZ(19,"div",12)(20,"nz-form-label"),t._uU(21,"T\u1eeb ng\xe0y"),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"nz-date-picker",18),t.NdJ("ngModelChange",function(e){t.CHM(n);const u=t.oxw();return t.KtG(u.EntitySearch.fromDate=e)}),t.qZA()(),t.TgZ(24,"div",12)(25,"nz-form-label"),t._uU(26,"\u0110\u1ebfn ng\xe0y "),t.qZA(),t._UZ(27,"br"),t.TgZ(28,"nz-date-picker",18),t.NdJ("ngModelChange",function(e){t.CHM(n);const u=t.oxw();return t.KtG(u.EntitySearch.toDate=e)}),t.qZA()()()()()()()}if(2&i){const n=t.MAs(12),o=t.oxw();t.xp6(3),t.Q6J("nzGutter",24),t.xp6(2),t.Q6J("nzSpan",6),t.xp6(4),t.Q6J("nzSuffix",n),t.xp6(1),t.Q6J("ngModel",o.EntitySearch.code),t.xp6(3),t.Q6J("nzSpan",6),t.xp6(4),t.Q6J("ngModel",o.EntitySearch.userAccountId),t.xp6(1),t.Q6J("ngForOf",o.userAccounts),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(4),t.Q6J("ngModel",o.EntitySearch.fromDate),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(4),t.Q6J("ngModel",o.EntitySearch.toDate)}}function P(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"td")(1,"a")(2,"span",22),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,u=t.oxw();return u.isDisplayDelete=!0,t.KtG(u.id_record=e.id)}),t.qZA()(),t._UZ(3,"nz-divider",23),t.TgZ(4,"a")(5,"span",24),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,u=t.oxw();return t.KtG(u.openModal("DETAIL",e))}),t.qZA()()()}}function K(i,l){1&i&&t._UZ(0,"td")}function V(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.YNc(16,P,6,0,"td",21),t.YNc(17,K,1,0,"td",21),t.qZA()),2&i){const n=l.$implicit,o=l.index;let e;t.Tol(n.isSoftDeleted?"bg_deleted":""),t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(n.code),t.xp6(2),t.Oqu(t.lcZ(7,10,n.total)),t.xp6(3),t.Oqu(t.lcZ(10,12,n.expenseShip)),t.xp6(3),t.Oqu(t.xi3(13,14,n.createdAt,null!==(e="dd/MM/yy hh:mm aa")&&void 0!==e?e:"")),t.xp6(3),t.Oqu(null==n.userAccount?null:n.userAccount.fullName),t.xp6(1),t.Q6J("ngIf",!n.isSoftDeleted),t.xp6(1),t.Q6J("ngIf",n.isSoftDeleted)}}function W(i,l){1&i&&t._UZ(0,"td")}function w(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",29)(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA()()(),t.TgZ(9,"td"),t._UZ(10,"img",30),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"number"),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"number"),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA(),t.TgZ(24,"td"),t._UZ(25,"input",31),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.ALo(28,"date"),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.ALo(31,"date"),t.qZA(),t.YNc(32,W,1,0,"td",21),t.qZA()),2&i){const n=l.$implicit,o=l.index,e=t.oxw(3);let u,h,s,z,x;t.Tol(n.isSoftDeleted?"bg_deleted":""),t.xp6(2),t.Oqu(o+1),t.xp6(4),t.hij("#",null==(u=e.getProductById(n.productAttribute.productId))?null:u.code,""),t.xp6(2),t.Oqu(null==(h=e.getProductById(n.productAttribute.productId))?null:h.name),t.xp6(2),t.hYB("src","",e.URL_Upload,"/",null!==(s=null==(s=e.getProductById(n.productAttribute.productId))?null:s.image)&&void 0!==s?s:"","",t.LSH),t.xp6(2),t.Oqu(t.lcZ(13,16,null==n.productAttribute?null:n.productAttribute.price)),t.xp6(3),t.Oqu(t.lcZ(16,18,n.priceIn)),t.xp6(3),t.Oqu(t.lcZ(19,20,n.quantity)),t.xp6(3),t.Oqu(null==n.productAttribute?null:n.productAttribute.amount),t.xp6(2),t.Oqu(null==n.productAttribute?null:n.productAttribute.unit),t.xp6(2),t.s9C("value",null==n.productAttribute?null:n.productAttribute.color),t.xp6(2),t.Oqu(t.xi3(28,22,null==n.productAttribute?null:n.productAttribute.manufactureDate,null!==(z="dd/MM/yy hh:mm aa")&&void 0!==z?z:"")),t.xp6(3),t.Oqu(t.xi3(31,25,null==n.productAttribute?null:n.productAttribute.expireDate,null!==(x="dd/MM/yy hh:mm aa")&&void 0!==x?x:"")),t.xp6(2),t.Q6J("ngIf",n.isSoftDeleted)}}function $(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"div",10)(2,"nz-table",28,6)(4,"thead")(5,"tr")(6,"th"),t._uU(7,"STT"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"M\xe3, T\xean"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"\u1ea2nh"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Gi\xe1 b\xe1n"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Gi\xe1 nh\u1eadp"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"S\u1ed1 l\u01b0\u1ee3ng nh\u1eadp"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"S\u1ed1 l\u01b0\u1ee3ng trong kho"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"\u0110\u01a1n v\u1ecb"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"M\xe0u s\u1eafc"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Ng\xe0y s\u1ea3n xu\u1ea5t"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Ng\xe0y h\u1ebft h\u1ea1n"),t.qZA()()(),t.TgZ(28,"tbody"),t.YNc(29,w,33,28,"tr",7),t.qZA()()(),t.BQk()),2&i){const n=t.MAs(3),o=t.oxw(2);t.xp6(1),t.Q6J("nzGutter",24),t.xp6(1),t.Q6J("nzData",o.importItemEntities),t.xp6(27),t.Q6J("ngForOf",n.data)}}function X(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"div")(1,"button",32),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.handleCancel())}),t._uU(2,"\u0110\xf3ng"),t.qZA()()}}function j(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"nz-modal",25),t.NdJ("nzVisibleChange",function(e){t.CHM(n);const u=t.oxw();return t.KtG(u.isDisplayDetail=e)})("nzOnCancel",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.handleCancel())}),t.YNc(1,$,30,3,"ng-container",26),t.YNc(2,X,3,0,"div",27),t.qZA()}if(2&i){const n=t.oxw();t.Q6J("nzVisible",n.isDisplayDetail)("nzTitle","Chi ti\u1ebft")("nzWidth",1200)}}let k=(()=>{var i;class l extends A.H{constructor(o,e,u,h,s){super(a.k.get(m.b),a.k.get(p.Sf),a.k.get(_.Dx),a.k.get(q.u),a.k.get(Z._W)),this.productService=o,this.userAccountService=e,this.importItemService=u,this.productAttributeService=h,this.appConfig=s,this.importItemEntity=new b,this.importItemEntitySearch=new v,this.productAttributeEntity=new S.mE,this.userAccounts=[],this.products=[],this.Entity=new I.q7,this.EntitySearch=new I.N8,this.Entities=new Array,this.URL="import",this.URL_Upload=s.URL_UPLOAD,this.title.setTitle("H\xf3a \u0111\u01a1n"),this.field_Validation={name:!1},this.GROUP_BUTTON.FILTER=!0,this.GROUP_BUTTON.RELOAD=!0,this.GROUP_BUTTON.SEARCH=!0,this.GROUP_BUTTON.EXCEL=!0,this.getList(),this.getListFilter()}getListFilter(){this.userAccountService.getByRequest("useraccount",{}).subscribe(o=>{this.userAccounts=o.data}),this.productService.getByRequest("product",{}).subscribe(o=>{this.products=o.data})}getProductById(o){return o&&this.products.length>0?this.products.find(u=>u.id==o)??null:null}openModal(o,e){this.isFilter=!1,this.Entity=e,"DELETE"===o&&(this.isDisplayDelete=!0),"DETAIL"===o&&(this.importItemEntitySearch=new v,this.importItemEntitySearch.importId=e.id,this.isDisplayDetail=!0,this.getImportItem())}handleCancel(){this.getList(),this.isInsert=!1,this.isDisplayDelete=!1,this.isDisplayDetail=!1}deleteAttribute(o){this.importItemService.delete(`importItem/${o}`).subscribe(e=>{"200"==e.code?(this.toastr.success("Th\xe0nh c\xf4ng !"),this.getImportItem()):this.toastr.warning(e.messageEX?.toString())})}getImportItem(){this.importItemService.getAll(`ImportItem?importId=${this.importItemEntitySearch.importId}`).subscribe(o=>{this.importItemEntities=o.data})}}return(i=l).\u0275fac=function(o){return new(o||i)(t.Y36(m.b),t.Y36(m.b),t.Y36(m.b),t.Y36(m.b),t.Y36(O.X))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-import"]],features:[t.qOj],decls:27,vars:10,consts:[[3,"GROUP_BUTTON","searchEvent","filterEvent","exportExcelEvent"],["class","content cus-body",4,"ngIf"],[1,"content","cus-body"],[1,"card"],[1,"card-body"],[3,"nzData","nzBordered","nzLoading"],["basicTable",""],[3,"class",4,"ngFor","ngForOf"],[3,"nzVisible","nzTitle","nzWidth","nzVisibleChange","nzOnCancel",4,"ngIf"],[3,"ID","URL","SHOWDELETE","handleCancelEvent"],[3,"nzGutter"],["nz-form","","nzLayout","vertical","nz-row",""],["nz-col","",3,"nzSpan"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Nh\u1eadp t\xecm ki\u1ebfm",3,"ngModel","ngModelChange"],["suffixIconSearch",""],["nzShowSearch","","nzAllowClear","","nz-input","","nzPlaceHolder","Ch\u1ecdn ng\u01b0\u1eddi nh\u1eadp",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[2,"width","100%",3,"ngModel","ngModelChange"],["nz-icon","","nzType","search"],[3,"nzLabel","nzValue"],[4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline",3,"click"],["nzType","vertical"],["nz-icon","","nzType","shopping","nzTheme","outline",3,"click"],[3,"nzVisible","nzTitle","nzWidth","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[4,"nzModalFooter"],[3,"nzData"],[1,"d-flex","flex-column","py-0"],[1,"img_logo",3,"src"],["type","color","disabled","true",3,"value"],["nz-button","","nzType","default",3,"click"]],template:function(o,e){if(1&o&&(t.TgZ(0,"app-group-button",0),t.NdJ("searchEvent",function(){return e.search()})("filterEvent",function(){return e.displayFilter()})("exportExcelEvent",function(){return e.exportByRequest()}),t.qZA(),t.YNc(1,Y,29,11,"section",1),t.TgZ(2,"section",2)(3,"div",3)(4,"div",4)(5,"nz-table",5,6)(7,"thead")(8,"tr")(9,"th"),t._uU(10,"STT"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"M\xe3"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"T\u1ed5ng ti\u1ec1n nh\u1eadp"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Chi ph\xed v\u1eadn chuy\u1ec3n"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Ng\xe0y nh\u1eadp"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Ng\u01b0\u1eddi nh\u1eadp"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"H\xe0nh \u0111\u1ed9ng"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,V,18,17,"tr",7),t.qZA()()()()(),t.YNc(25,j,3,3,"nz-modal",8),t.TgZ(26,"app-delete-modal",9),t.NdJ("handleCancelEvent",function(){return e.handleCancel()}),t.qZA()),2&o){const u=t.MAs(6);t.Q6J("GROUP_BUTTON",e.GROUP_BUTTON),t.xp6(1),t.Q6J("ngIf",e.isFilter),t.xp6(4),t.Q6J("nzData",e.Entities)("nzBordered",!0)("nzLoading",e.isLoading),t.xp6(19),t.Q6J("ngForOf",u.data),t.xp6(1),t.Q6J("ngIf",e.isDisplayDetail),t.xp6(1),t.Q6J("ID",e.id_record)("URL","import")("SHOWDELETE",e.isDisplayDelete)}},dependencies:[g.sg,g.O5,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,M.ix,J.w,N.dQ,L.uw,B.g,y.t3,y.SK,T.Lr,T.Nx,T.iK,F.Ls,f.Zp,f.gB,f.ke,p.du,p.Uh,p.Hf,U.Ip,U.Vq,d.N8,d.Uo,d._C,d.Om,d.p0,d.$Z,Q.z,G.W,g.JJ,g.uU]}),l})()}}]);